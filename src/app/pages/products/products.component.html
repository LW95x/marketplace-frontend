<div>
  <h1 class="products-header">Products</h1>
  <div class="search-div">
    <div class="search">
      <input type="text" placeholder="Search for a specific product..." [(ngModel)]="title" (keydown.enter)="search()" (blur)="search()"/>
      <span
        (click)="search()"
        class="material-symbols-outlined"
        style="font-size: 32px; margin-left: auto; cursor: pointer"
      >
        search
      </span>
    </div>
  </div>

  <form [formGroup]="filterForm" class="filter-form">
    <button mat-flat-button class="custom-button" (click)="previousPage()" [disabled]="currentPage === 1">Previous Page</button>
  <mat-form-field appearance="fill">
  <mat-label>Category</mat-label>
  <mat-select formControlName="category">
    <mat-option [value]="undefined">All</mat-option>
    <mat-option value="Furniture">Furniture</mat-option>
    <mat-option value="Sport">Sport</mat-option>
    <mat-option value="Clothing">Clothing</mat-option>
    <mat-option value="Food & Drink">Food & Drink</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Min Price (£)</mat-label>
    <input matInput type="number" formControlName="minPrice" placeholder="e.g. 10" />
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Max Price (£)</mat-label>
    <input matInput type="number" formControlName="maxPrice" placeholder="e.g. 100" />
  </mat-form-field>
  <button mat-flat-button class="custom-button" (click)="nextPage()" [disabled]="products.length < 10">Next Page</button>
</form>
  
  <div class="small-deals">
    <div *ngFor="let product of products" class="small-deal-item">
      <app-image-slider [images]="product.imageUrls" height="200px"/>
      <a [routerLink]="['/product', product.productId]" style="text-decoration: none; color: inherit;">
      <div class="content">
        <h3>{{ product.title }}</h3>
        <hr/>
        <p><b>Description: </b>{{ product.description }}</p>
        <p><b>Price:</b> £{{ product.price }}</p>
        <p> <b>Quantity:</b> {{ product.quantity }} </p>
        <p> <b>Seller:</b> {{ product.sellerName }}</p>
        <p> <b>Category:</b> {{ product.category }} </p>
      </div>
    </a>
    </div>
  </div>
</div>
